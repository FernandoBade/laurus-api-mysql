{
    "name": "laurus",
    "private": true,
    "workspaces": [
        "backend",
        "frontend"
    ],
    "scripts": {
        "dev": "npm run dev:full",

        "dev:backend": "npm run dev -w backend",
        "dev:frontend": "npm run dev -w frontend",
        "dev:frontend:old": "npm --prefix frontend_old run dev",

        "dev:full": "npm run db:migrate && concurrently -n api,web -c green,blue \"npm run dev:backend\" \"npm run dev:frontend\"",
        "dev:full:old": "npm run db:migrate && concurrently -n api,web_old -c green,yellow \"npm run dev:backend\" \"npm run dev:frontend:old\"",

        "db:migrate": "npm run db:migrate -w backend",
        "db:sync": "npm run db:sync -w backend",

        "seed": "npm run seed -w backend",
        "seed:10": "npm run seed:10 -w backend",
        "seed:100": "npm run seed:100 -w backend",
        "seed:1000": "npm run seed:1000 -w backend",

        "lint": "npm run lint -ws",

        "build": "npm run lint && npm run build -ws",

        "build:backend": "npm run build -w backend",
        "build:frontend": "npm run build -w frontend",

        "test:": "node -e \"const { spawnSync } = require('node:child_process'); const result = spawnSync('npm run test:coverage', { stdio: 'inherit', shell: true }); if (result.error) throw result.error; process.exit(result.status ?? 1);\"",
        "test": "npm run test -ws",
        "test:coverage": "npm run test:coverage -ws"
    },
    "devDependencies": {
        "concurrently": "^9.2.1"
    }
}
